<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="head :: head(title = #{order})">
</head>
<body>
<div class="container">
    <header th:replace="navbar :: navbar">

    </header>
    <form th:action="@{/selectUser}" method="post">
        <fieldset>
            <div class="form-group">

                <select class="form-control" id="selectUser" name="selectUser">
                    <option selected>Select user...</option>
                    <th:block th:each="user : ${users}">
                        <option th:value="${user.getUsername()}"
                                th:text="${user.getUsername()}"></option>
                    </th:block>
                </select>

            </div>
            <div class="row">
                <div class="col-xs-6 col-sm-6 col-md-6">
                    <input type="submit" class="btn btn-lg btn-danger btn-block" name="deleteUser" value="Delete user"/>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-6 col-sm-6 col-md-6">
                    <input type="submit" class="btn btn-lg btn-primary btn-block" name="modifyUser"
                           value="Modify user"/>
                </div>
            </div>
        </fieldset>
    </form>

    <table class="table">
        <tr>
            <th scope="col">User Id</th>
            <th scope="col">Username</th>
            <th scope="col">E-mail</th>
        </tr>
        <tr th:each="user: ${users}">
            <th scope="row" th:text="${user.getId()}"></th>
            <td th:text="${user.getUsername()}"></td>
            <td th:text="${user.getEmail()}"></td>
        </tr>
    </table>

    <table class="table">
        <tr>
            <th scope="col">#</th>
            <th scope="col">User</th>
            <th scope="col">Car Model</th>
            <th scope="col">Rent Start date</th>
            <th scope="col">Rent End date</th>
        </tr>
        <tr th:each="order,iter : ${orders}">
            <th scope="row" th:text="${iter.index}"></th>
            <td th:text="${order.getUser().getUsername()}"></td>
            <td th:text="${order.getCar().getModel()}"></td>
            <td th:text="${order.getRentStartDate()}"></td>
            <td th:text="${order.getRentEndDate()}"></td>
            <td>
                <form th:action="@{/deleteOrder}" method="post">
                    <input type="hidden" name="deleteOrder" th:value="${order.getId()}"/>
                    <input type="submit" class="btn btn-lg btn-danger btn-block" value="Delete"/>
                </form>
            </td>
        </tr>
    </table>

</div>
</body>
</html>